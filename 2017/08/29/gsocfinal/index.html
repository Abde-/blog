<!DOCTYPE html>
<html lang=en>
<head>
    <meta charset="utf-8">
    
    <title>GSOC final report | Abde&#39;s stuff</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="Final report from Abdeselam El-Haman Abdeselam for GSOC 2017I have been working for Copyleft Games during this summer. My project this summer has been to introduce shadow rendering by shadow mappingin">
<meta name="keywords" content="rendering,3d,pysoy">
<meta property="og:type" content="article">
<meta property="og:title" content="GSOC final report">
<meta property="og:url" content="http://Abde5.github.io/blog/2017/08/29/gsocfinal/index.html">
<meta property="og:site_name" content="Abde&#39;s stuff">
<meta property="og:description" content="Final report from Abdeselam El-Haman Abdeselam for GSOC 2017I have been working for Copyleft Games during this summer. My project this summer has been to introduce shadow rendering by shadow mappingin">
<meta property="og:updated_time" content="2017-08-29T02:31:58.391Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="GSOC final report">
<meta name="twitter:description" content="Final report from Abdeselam El-Haman Abdeselam for GSOC 2017I have been working for Copyleft Games during this summer. My project this summer has been to introduce shadow rendering by shadow mappingin">
    

    

    

    <link rel="stylesheet" href="/blog/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/blog/libs/open-sans/styles.css">
    <link rel="stylesheet" href="/blog/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/blog/css/style.css">

    <script src="/blog/libs/jquery/2.1.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/blog/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/blog/libs/justified-gallery/justifiedGallery.min.css">
    
    
    
    


</head>

<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/blog/" id="logo">
                
                <span class="site-title">Abde&#39;s stuff</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/blog/.">Home</a>
                
                    <a class="main-nav-link" href="/blog/archives">Archives</a>
                
                    <a class="main-nav-link" href="/blog/categories">Categories</a>
                
                    <a class="main-nav-link" href="/blog/tags">Tags</a>
                
                    <a class="main-nav-link" href="/blog/about">About</a>
                
            </nav>
            
                
                <nav id="sub-nav">
                    <div class="profile" id="profile-nav">
                        <a id="profile-anchor" href="javascript:;">
                            <img class="avatar" src="/blog/css/images/avatar.png" />
                            <i class="fa fa-caret-down"></i>
                        </a>
                    </div>
                </nav>
            
            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/blog/',
        CONTENT_URL: '/blog/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/blog/js/insight.js"></script>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="/blog/.">Home</a></td>
                
                    <td><a class="main-nav-link" href="/blog/archives">Archives</a></td>
                
                    <td><a class="main-nav-link" href="/blog/categories">Categories</a></td>
                
                    <td><a class="main-nav-link" href="/blog/tags">Tags</a></td>
                
                    <td><a class="main-nav-link" href="/blog/about">About</a></td>
                
                <td>
                    
    <div class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
    </div>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
                

<aside id="profile">
    <div class="inner profile-inner">
        <div class="base-info profile-block">
            <img id="avatar" src="/blog/css/images/avatar.png" />
            <h2 id="name">Abdeselam El-Haman Abdeselam</h2>
            <h3 id="title">Developer &amp; Computer Scientist</h3>
            <span id="location"><i class="fa fa-map-marker"></i>Brussels, Belgium</span>
            <a id="follow" target="_blank" href="https://github.com/Abde5/">FOLLOW</a>
        </div>
        <div class="article-info profile-block">
            <div class="article-info-block">
                6
                <span>posts</span>
            </div>
            <div class="article-info-block">
                3
                <span>tags</span>
            </div>
        </div>
        
        <div class="profile-block social-links">
            <table>
                <tr>
                    
                    
                    <td>
                        <a href="http://github.com/Abde5/" target="_blank" title="github" class=tooltip>
                            <i class="fa fa-github"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="http://twitter.com/Abdulitokun/" target="_blank" title="twitter" class=tooltip>
                            <i class="fa fa-twitter"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="http://www.facebook.com/abdulitokun/" target="_blank" title="facebook" class=tooltip>
                            <i class="fa fa-facebook"></i>
                        </a>
                    </td>
                    
                </tr>
            </table>
        </div>
        
    </div>
</aside>

            
            <section id="main"><article id="post-gsocfinal" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
            GSOC final report
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/blog/2017/08/29/gsocfinal/">
            <time datetime="2017-08-29T01:56:20.000Z" itemprop="datePublished">2017-08-29</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/blog/categories/gsoc/">gsoc</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/blog/tags/3d/">3d</a>, <a class="tag-link" href="/blog/tags/pysoy/">pysoy</a>, <a class="tag-link" href="/blog/tags/rendering/">rendering</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <h1 id="Final-report-from-Abdeselam-El-Haman-Abdeselam-for-GSOC-2017"><a href="#Final-report-from-Abdeselam-El-Haman-Abdeselam-for-GSOC-2017" class="headerlink" title="Final report from Abdeselam El-Haman Abdeselam for GSOC 2017"></a>Final report from Abdeselam El-Haman Abdeselam for GSOC 2017</h1><p>I have been working for Copyleft Games during this summer.</p>
<p>My project this summer has been to introduce <em>shadow rendering</em> by shadow mapping<br>in PySoy. This work can be seen in <a href="https://bitbucket.org/Abdulito/pysoy-shadowmapping/src" target="_blank" rel="external">my fork hosted in bitbucket</a> (branch <code>shadow</code>)<br>and also read my <a href="http://abdulito.me/blog/categories/gsoc/" target="_blank" rel="external">devlog</a> during this whole summer.</p>
<a id="more"></a>
<h2 id="My-work"><a href="#My-work" class="headerlink" title="My work"></a>My work</h2><p>I implemented the codebase for a shadow mapping rendering of a Scene (<code>Scene.gs</code>).<br>This rendering is composed in two important parts. During the first one, the <em>depthmap</em><br>of the scene is generated (shadowpass) and then used to generate the new rendered picture<br>by comparing the point distance with the depth at that same spot in the depthmap generated before (mainpass). You can have more details <a href="http://www.opengl-tutorial.org/es/intermediate-tutorials/tutorial-16-shadow-mapping/" target="_blank" rel="external">here</a>.</p>
<p>PySoy uses the OpenGL ES2 API to render its images and GLSL for the shaders. I have then implemented 2 shaders for the <code>depthmap</code> and <code>shadow rendering</code> (the two steps described before).</p>
<p>I have also computed the matrices used in this algorithm (<code>_configure_matrix</code>) like<br>the light projection and the light view (the camera projections were already calculated in the PySoy soure code).</p>
<p>In the end, I’ve tried to code something to debug the depthmap. I’ve begun but it didn’t<br>work… The idea was to actually draw a quad that covers the whole screen and shows<br>the texture (shadowmap) generated in the first step of the algorithm.</p>
<p>Unfortunately, my objective wasn’t accomplished, as I couldn’t make it work in the end. I have experienced some issues in this project:</p>
<ul>
<li>OpenGL ES2 is not used anymore and it has been difficult to find resources and tutorials to help me get into it for the shadow mapping (this is my first experience with shaders).</li>
<li>Debugging shaders is not as easy as it seems to be. In the first place, I didn’t<br>see any difference with or without my shaders. I actually found out why (nested shaders).</li>
</ul>
<h2 id="Things-done-and-things-to-do"><a href="#Things-done-and-things-to-do" class="headerlink" title="Things done and things to do"></a>Things done and things to do</h2><ul>
<li>[x] Shadow rendering codebase.</li>
<li>[x] Matrix calculus.</li>
<li>[x] Debugging codebase (quad).</li>
<li>[ ] Debugging the debugging code.</li>
<li>[ ] Make the shaders work as they should.</li>
<li>[ ] Calculate the matrixes per light source.</li>
<li>[ ] Cubemap of depthmaps for no directional lights.</li>
<li>[ ] OPTIONAL: link GLM library (maybe as a gsoc project for the future?).</li>
</ul>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://Abde5.github.io/blog/2017/08/29/gsocfinal/" data-id="cj6wzaeop000c2xjbqno69nwg" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://Abde5.github.io/blog/2017/08/29/gsocfinal/#comments" class="article-comment-link disqus-comment-count" data-disqus-url="http://Abde5.github.io/blog/2017/08/29/gsocfinal/">Comments</a>
    

        </footer>
    </div>
    
        
<nav id="article-nav">
    
    
        <a href="/blog/2017/08/10/gsoc5/" id="article-nav-older" class="article-nav-link-wrap">
            <strong class="article-nav-caption">Older</strong>
            <div class="article-nav-title">GSOC devlog (20/8/2017)</div>
        </a>
    
</nav>


    
</article>


    
    
        <section id="comments">
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>
</section>
    

</section>
            
                
<aside id="sidebar">
   
        
    <div class="widget-wrap">
        <h3 class="widget-title">recent</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/blog/2017/08/29/gsocfinal/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/blog/categories/gsoc/">gsoc</a></p>
                            <p class="item-title"><a href="/blog/2017/08/29/gsocfinal/" class="title">GSOC final report</a></p>
                            <p class="item-date"><time datetime="2017-08-29T01:56:20.000Z" itemprop="datePublished">2017-08-29</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/blog/2017/08/10/gsoc5/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/blog/categories/gsoc/">gsoc</a></p>
                            <p class="item-title"><a href="/blog/2017/08/10/gsoc5/" class="title">GSOC devlog (20/8/2017)</a></p>
                            <p class="item-date"><time datetime="2017-08-10T17:17:22.000Z" itemprop="datePublished">2017-08-10</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/blog/2017/08/10/gsoc4/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/blog/categories/gsoc/">gsoc</a></p>
                            <p class="item-title"><a href="/blog/2017/08/10/gsoc4/" class="title">GSOC devlog (10/8/2017)</a></p>
                            <p class="item-date"><time datetime="2017-08-10T13:17:22.000Z" itemprop="datePublished">2017-08-10</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/blog/2017/07/26/gsoc3/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/blog/categories/gsoc/">gsoc</a></p>
                            <p class="item-title"><a href="/blog/2017/07/26/gsoc3/" class="title">GSOC devlog (26/7/2017)</a></p>
                            <p class="item-date"><time datetime="2017-07-25T22:39:03.000Z" itemprop="datePublished">2017-07-26</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/blog/2017/07/19/gsoc2/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/blog/categories/gsoc/">gsoc</a></p>
                            <p class="item-title"><a href="/blog/2017/07/19/gsoc2/" class="title">GSOC devlog (19/7/2017)</a></p>
                            <p class="item-date"><time datetime="2017-07-19T18:56:56.000Z" itemprop="datePublished">2017-07-19</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">categories</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/gsoc/">gsoc</a><span class="category-list-count">6</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">archives</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/08/">August 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/07/">July 2017</a><span class="archive-list-count">3</span></li></ul>
        </div>
    </div>

    
        
    
        
    <div class="widget-wrap">
        <h3 class="widget-title">tag cloud</h3>
        <div class="widget tagcloud">
            <a href="/blog/tags/3d/" style="font-size: 10px;">3d</a> <a href="/blog/tags/pysoy/" style="font-size: 10px;">pysoy</a> <a href="/blog/tags/rendering/" style="font-size: 10px;">rendering</a>
        </div>
    </div>

    
        
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">links</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://hexo.io">Hexo</a>
                    </li>
                
            </ul>
        </div>
    </div>


    
    <div id="toTop" class="fa fa-angle-up"></div>
</aside>

            
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2017 Abdeselam El-Haman Abdeselam<br>
            Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
        </div>
    </div>
</footer>
        
    
    <script>
    var disqus_config = function () {
        
            this.page.url = 'http://Abde5.github.io/blog/2017/08/29/gsocfinal/';
        
        this.page.identifier = 'gsocfinal';
    };
    (function() { 
        var d = document, s = d.createElement('script');  
        s.src = '//' + 'abde-blog' + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>




    
        <script src="/blog/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/blog/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/blog/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/blog/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/blog/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/blog/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/blog/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/blog/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/blog/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/blog/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    
    



<!-- Custom Scripts -->
<script src="/blog/js/main.js"></script>

    </div>
</body>
</html>